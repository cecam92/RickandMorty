(this.webpackJsonprick=this.webpackJsonprick||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(75),l=a.n(c),i=a(27),m=a(11),o=a(31),s=(a(86),a(76)),u=a.n(s);var d=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"hero"},r.a.createElement(i.b,{to:"/characters"},r.a.createElement("img",{className:"hero__image",src:u.a,alt:"Hero Logo"}))))},E=a(36),f=a.n(E),p=a(45);a(92),a(93);var h=function(e){var t=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"characterCard"},r.a.createElement("section",{className:"characterCard__image"},r.a.createElement("img",{src:t.image,alt:"character"})),r.a.createElement("section",{className:"characterCard__info"},r.a.createElement("h2",{id:"name"},t.name),r.a.createElement("p",{id:"status"},"Status: ",t.status),r.a.createElement("p",{id:"origin"},"Origin: ",t.origin.name))))};var g=function(e){var t=e.data,a=e.page;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"listCharacters"},t.map((function(e){return r.a.createElement("li",{className:"characters",key:e.id},r.a.createElement(i.b,{to:{pathname:"/characters/".concat(e.id),id:e.id},onClick:(n=t,c=a,localStorage.setItem("characters",JSON.stringify(n)),void localStorage.setItem("page",c))},r.a.createElement(h,{character:e})));var n,c}))))},v=a(46),b=a(53);function j(){var e=Object(v.a)(['\n      {\n        characters(filter: { name: "','" }) {\n          results {\n            name\n            id\n            status\n            image\n            origin {\n              name\n            }\n          }\n        }\n      }\n    ']);return j=function(){return e},e}function O(){return(O=Object(p.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("props in fetch ".concat(t)),a=new b.ApolloClient({uri:"https://rickandmortyapi.com/graphql/",cache:new b.InMemoryCache}),e.next=4,a.query({query:Object(b.gql)(j(),t)});case 4:return n=e.sent,r=n.data.characters.results,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){return O.apply(this,arguments)},w=a(51),y=a.n(w);var S=function(){var e=Object(n.useState)(1),t=Object(o.a)(e,2),a=t[0],c=t[1],l="https://rickandmortyapi.com/api/character/?page=".concat(a),i=Object(n.useState)([]),m=Object(o.a)(i,2),s=m[0],u=m[1],d=Object(n.useState)(7689),E=Object(o.a)(d,2),h=E[0],v=E[1],b=Object(n.useState)(""),j=Object(o.a)(b,2),O=j[0],w=j[1],S=Object(n.useState)([]),C=Object(o.a)(S,2),k=C[0],x=C[1],F=Object(n.useState)(!1),_=Object(o.a)(F,2),I=_[0],q=_[1];function L(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&h>a&&c(a+1)}function H(){return(H=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O||void 0===O||""===O){e.next=15;break}return e.prev=1,e.next=4,N(O);case 4:t=e.sent,console.log(" error ".concat(t)),t&&(q(!1),x(t)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),q(!0),x([]);case 13:e.next=16;break;case 15:x([]);case 16:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){return fetch(l).then((function(e){return e.json()})).then((function(e){u((function(t){return t.concat(e.results)})),v(e.info.pages)})),window.addEventListener("scroll",L),function(){window.removeEventListener("scroll",L)}}),[l,a]),Object(n.useEffect)((function(){!function(){H.apply(this,arguments)}(),console.log("Characters Filtered : ".concat(k))}),[O]),console.log("filter : ".concat(O)),r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"sticky"},r.a.createElement("div",{className:"Search"},r.a.createElement("input",{className:"Search__input",placeholder:"Write character's name",onChange:function(e){!function(e){w(e.target.value)}(e)}})))," ",r.a.createElement("main",null,(!O||""===O)&&r.a.createElement(g,{data:s,page:a}),k&&""!==O&&r.a.createElement(g,{data:k}),I&&O&&r.a.createElement("img",{className:"errorImage",src:y.a,alt:"No found"})))};var C=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];function l(){0!==document.documentElement.scrollTop?c(!1):c(!0)}return Object(n.useEffect)((function(){return l(),window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}}),[]),r.a.createElement(n.Fragment,null,a&&r.a.createElement(d,null),r.a.createElement(S,null))},k=(a(98),a(107)),x=a(52);a(99);var F=function(e){var t=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"detailsCard"},r.a.createElement("section",{className:"detailsCard__image"},r.a.createElement("img",{src:t.image,alt:"character"})),r.a.createElement("section",{className:"detailsCard__info"},r.a.createElement("small",{id:"id"},t.id),r.a.createElement("h1",{id:"name"},t.name),r.a.createElement("p",{id:"status"},"Status: ",t.status),r.a.createElement("p",{id:"species"},"Species: ",t.species),r.a.createElement("p",{id:"type"},"Type: ",t.type),r.a.createElement("p",{id:"gender"},"Gender: ",t.gender))))};a(100),a(101);var _=function(){return r.a.createElement("div",{className:"lds-grid"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};var I=function(){return r.a.createElement("div",{className:"PageLoading"},r.a.createElement(_,null))};a(102);var q=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement("div",{className:"notFoundContainer"},r.a.createElement(i.b,{to:"/characters"},r.a.createElement("img",{className:"notFound-image",src:y.a,alt:"404 not found"})))))};function L(){var e=Object(v.a)(["\n {\n   character(id: ",") {\n     id\n     name\n     status \n     species\n     type\n     gender\n    image\n   }\n }\n"]);return L=function(){return e},e}var H=function(e){var t=e.id,a=Object(x.b)(L(),t);return r.a.createElement(k.a,{query:a},(function(e){var t=e.loading,a=e.error,c=e.data;if(t)return r.a.createElement(I,null);if(a)return r.a.createElement(q,null);var l=c.character;return r.a.createElement(n.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:"cardContainer"},r.a.createElement(F,{character:l}))))}))};var J=function(e){var t=e.location.id?e.location.id:e.location.pathname.split("/")[2];return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement(H,{id:t})))},T=a(79),B=a.n(T);a(103);var M=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement("div",{className:"schwiftyContainer"},r.a.createElement(i.b,{to:"/characters"},r.a.createElement("img",{className:"schwifty-image",src:B.a,alt:"get schwifty"})))),r.a.createElement("footer",null,r.a.createElement("h2",{className:"footer"},"Culimbo")))};var A=function(){return r.a.createElement(i.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:M}),r.a.createElement(m.a,{exact:!0,path:"/characters",component:C}),r.a.createElement(m.a,{exact:!0,path:"/characters/:characterId",component:J}),r.a.createElement(m.a,{component:q})))},G=(a(104),a(12)),P=new x.a({uri:"https://rickandmortyapi.com/graphql/"});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G.a,{client:P},r.a.createElement(A,null))),document.getElementById("root"))},51:function(e,t,a){e.exports=a.p+"static/media/Buried.bc95a60c.jpeg"},76:function(e,t,a){e.exports=a.p+"static/media/HeroImage.42d6efdb.png"},79:function(e,t,a){e.exports=a.p+"static/media/Schwifty.1c56175c.png"},81:function(e,t,a){e.exports=a(105)},86:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.2c5b02ba.chunk.js.map