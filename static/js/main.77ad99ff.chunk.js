(this.webpackJsonprick=this.webpackJsonprick||[]).push([[0],{103:function(e,a,t){},104:function(e,a,t){},105:function(e,a,t){},106:function(e,a,t){},107:function(e,a,t){},108:function(e,a,t){},109:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(48),l=t.n(c),i=t(37),s=t(13),m=t(33),o=(t(91),t(83)),u=t.n(o);var d=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"hero"},r.a.createElement(i.b,{to:"/characters/"},r.a.createElement("img",{className:"hero__image",src:u.a,alt:"Hero Logo"}))))},E=t(67),p=t(40),f=t.n(p),h=t(54),v=(t(97),t(98),function(e){var a=e.character,t=a.status.toLowerCase();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main-card-container"},r.a.createElement("div",{className:"card-image-container"},r.a.createElement("img",{className:"card-imagefade",src:a.image,alt:""}),r.a.createElement("img",{className:"card-mainImage",src:a.image,alt:""})),r.a.createElement("div",{className:"card-details-container"},r.a.createElement("div",{className:"card-details-name"},r.a.createElement("span",{className:"card--statusIndicator ".concat(t)}),r.a.createElement("p",null,a.name)))))});var g=function(e){var a=e.data;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"listCharacters"},a.map((function(e){return r.a.createElement("li",{className:"characters",key:e.id},r.a.createElement(i.b,{to:{pathname:"/characters/".concat(e.id),id:e.id},onClick:function(){document.documentElement.scrollTop=0}},r.a.createElement(v,{character:e})))}))))},b=t(55),N=t(62);function O(){var e=Object(b.a)(['\n      {\n        characters(filter: { name: "','" }) {\n          results {\n            name\n            id\n            status\n            image\n            origin {\n              name\n            }\n          }\n        }\n      }\n    ']);return O=function(){return e},e}function j(){return(j=Object(h.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("props in fetch ".concat(a)),t=new N.ApolloClient({uri:"https://rickandmortyapi.com/graphql/",cache:new N.InMemoryCache}),e.next=4,t.query({query:Object(N.gql)(O(),a)});case 4:return n=e.sent,r=n.data.characters.results,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){return j.apply(this,arguments)},w=t(41);var C=function(){var e=Object(w.c)((function(e){return e.characters})),a=Object(w.c)((function(e){return e.page})),t=Object(n.useState)(a),c=Object(m.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(e),o=Object(m.a)(s,2),u=o[0],d=o[1],E=Object(w.b)(),p=Object(n.useState)(7689),v=Object(m.a)(p,2),b=v[0],N=v[1],O=Object(n.useState)(""),j=Object(m.a)(O,2),C=j[0],k=j[1],x=Object(n.useState)([]),_=Object(m.a)(x,2),F=_[0],L=_[1],S=Object(n.useState)(!1),I=Object(m.a)(S,2),A=I[0],T=I[1],q="https://rickandmortyapi.com/api/character/?page=".concat(l);function H(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&b>l&&i(l+1)}function R(){return(R=Object(h.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C||void 0===C||""===C){e.next=14;break}return e.prev=1,e.next=4,y(C);case 4:(a=e.sent)&&(T(!1),L(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),T(!0),L([]);case 12:e.next=15;break;case 14:L([]);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){return function(e){if(l<=b)try{fetch(e).then((function(e){return e.json()})).then((function(e){N(e.info.pages),d((function(a){return a.concat(e.results)}))})),E({type:"UPDATE_CHARACTERS",payload:[u,l]})}catch(A){return u}}(q),window.addEventListener("scroll",H),function(){window.removeEventListener("scroll",H)}}),[l]),Object(n.useEffect)((function(){!function(){R.apply(this,arguments)}()}),[C]),r.a.createElement(n.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:"search-container sticky"},r.a.createElement("input",{className:"search-input",placeholder:"Find character by name",onChange:function(e){!function(e){k(e.target.value)}(e)}})),(!C||""===C)&&r.a.createElement(g,{data:u}),F&&""!==C&&r.a.createElement(g,{data:F}),A&&C&&r.a.createElement("div",{className:"listCharacter-errorImage-container"},r.a.createElement("h2",null,"404: Ooops! we buried them"))))};var k=function(){var e=Object(n.useState)(!1),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(E.b)({opacity:t?1:0});function i(){document.documentElement.scrollTop>40?c(!1):c(!0)}return Object(n.useEffect)((function(){return i(),window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(E.a.div,{style:l},r.a.createElement(d,null)),r.a.createElement(C,null))},x=(t(103),t(111)),_=t(61);t(104);var F=function(e){var a=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"detailsCard"},r.a.createElement("section",{className:"detailsCard__image"},r.a.createElement("img",{className:"detailsCard__image-faded",src:a.image,alt:"character"}),r.a.createElement("img",{className:"detailsCard__image-main",src:a.image,alt:"character"})),r.a.createElement("section",{className:"detailsCard__info"},r.a.createElement("h2",{className:"detailsCard-name"},a.name),r.a.createElement("small",{className:"detailsCard-id"},a.id),r.a.createElement("p",{className:"detailsCard-status"},r.a.createElement("span",{className:"card--statusIndicator ".concat(a.status.toLowerCase())}),a.status," - ",a.species),r.a.createElement("p",{className:"detailsCard-type"}," ",a.type),r.a.createElement("p",{className:"detailsCard-gender"},a.gender),r.a.createElement("p",{className:"detailsCard-lastLocation"},"Last known location:"),r.a.createElement("p",{className:"detailsCard-location"}," ",a.location.name))))};t(105),t(106);var L=function(){return r.a.createElement("div",{className:"lds-grid"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};var S=function(){return r.a.createElement("div",{className:"PageLoading"},r.a.createElement(L,null),r.a.createElement(C,null))};t(107);var I=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:"listCharacter-errorImage-container"},r.a.createElement("h2",null,"404: Ooops! we buried them"))))};function A(){var e=Object(b.a)(["\n {\n   character(id: ",") {\n     id\n     name\n     status \n     species\n     type\n     gender\n    image\n    location{\n      name\n    }\n   }\n }\n"]);return A=function(){return e},e}var T=function(e){var a=e.id,t=Object(_.b)(A(),a);return r.a.createElement(x.a,{query:t},(function(e){var a=e.loading,t=e.error,c=e.data;if(a)return r.a.createElement(S,null);if(t)return r.a.createElement(I,null);var l=c.character;return r.a.createElement(n.Fragment,null,r.a.createElement(F,{character:l}))}))};var q=function(e){var a=e.location.id?e.location.id:e.location.pathname.split("/")[2];return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement(T,{id:a}),r.a.createElement(C,null)))},H=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement(C,null))};var R=function(){return r.a.createElement(i.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:H}),r.a.createElement(s.a,{exact:!0,path:"/characters/",component:k}),r.a.createElement(s.a,{exact:!0,path:"/characters/:characterId",component:q}),r.a.createElement(s.a,{component:I})))},P=(t(108),t(14)),D=t(60),J={characters:[],page:1};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_CHARACTERS":return{characters:a.payload[0],page:a.payload[1]};default:return e}},U=new _.a({uri:"https://rickandmortyapi.com/graphql/"}),B=Object(D.b)(M);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w.a,{store:B},r.a.createElement(P.a,{client:U},r.a.createElement(R,null)))),document.getElementById("root"))},83:function(e,a,t){e.exports=t.p+"static/media/HeroImage.c78ce9dd.png"},86:function(e,a,t){e.exports=t(109)},91:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){}},[[86,1,2]]]);
//# sourceMappingURL=main.77ad99ff.chunk.js.map