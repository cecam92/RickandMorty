(this.webpackJsonprick=this.webpackJsonprick||[]).push([[0],{100:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(48),l=a.n(c),i=a(28),m=a(13),u=a(34),s=(a(93),a(84)),o=a.n(s);var d=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"hero"},r.a.createElement(i.b,{to:"/characters/"},r.a.createElement("img",{className:"hero__image",src:o.a,alt:"Hero Logo"}))))},E=a(68),f=a(40),p=a.n(f),h=a(54);a(99),a(100);var v=function(e){var t=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"characterCard"},r.a.createElement("section",{className:"characterCard__image"},r.a.createElement("img",{src:t.image,alt:"character"})),r.a.createElement("section",{className:"characterCard__info"},r.a.createElement("h2",{id:"name"},t.name),r.a.createElement("p",{id:"status"},"Status: ",t.status),r.a.createElement("p",{id:"origin"},"Origin: ",t.origin.name))))};var g=function(e){var t=e.data;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"listCharacters"},t.map((function(e){return r.a.createElement("li",{className:"characters",key:e.id},r.a.createElement(i.b,{to:{pathname:"/characters/".concat(e.id),id:e.id}},r.a.createElement(v,{character:e})))}))))},b=a(55),y=a(63);function j(){var e=Object(b.a)(['\n      {\n        characters(filter: { name: "','" }) {\n          results {\n            name\n            id\n            status\n            image\n            origin {\n              name\n            }\n          }\n        }\n      }\n    ']);return j=function(){return e},e}function O(){return(O=Object(h.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("props in fetch ".concat(t)),a=new y.ApolloClient({uri:"https://rickandmortyapi.com/graphql/",cache:new y.InMemoryCache}),e.next=4,a.query({query:Object(y.gql)(j(),t)});case 4:return n=e.sent,r=n.data.characters.results,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){return O.apply(this,arguments)},N=a(60),C=a.n(N),S=a(41);var _=function(){var e=Object(S.c)((function(e){return e.characters})),t=Object(S.c)((function(e){return e.page})),a=Object(n.useState)(t),c=Object(u.a)(a,2),l=c[0],i=c[1],m=Object(n.useState)(e),s=Object(u.a)(m,2),o=s[0],d=s[1],E=Object(S.b)(),f=Object(n.useState)(7689),v=Object(u.a)(f,2),b=v[0],y=v[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),N=O[0],_=O[1],k=Object(n.useState)([]),x=Object(u.a)(k,2),F=x[0],A=x[1],T=Object(n.useState)(!1),q=Object(u.a)(T,2),H=q[0],L=q[1],I="https://rickandmortyapi.com/api/character/?page=".concat(l);function R(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&b>l&&i(l+1)}function M(){return(M=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N||void 0===N||""===N){e.next=14;break}return e.prev=1,e.next=4,w(N);case 4:(t=e.sent)&&(L(!1),A(t)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),L(!0),A([]);case 12:e.next=15;break;case 14:A([]);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){return function(e){if(l<=b)try{fetch(e).then((function(e){return e.json()})).then((function(e){y(e.info.pages),d((function(t){return t.concat(e.results)}))})),E({type:"UPDATE_CHARACTERS",payload:[o,l]})}catch(H){return o}}(I),window.addEventListener("scroll",R),function(){window.removeEventListener("scroll",R)}}),[l]),Object(n.useEffect)((function(){!function(){M.apply(this,arguments)}()}),[N]),r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"sticky"},r.a.createElement("div",{className:"Search"},r.a.createElement("input",{className:"Search__input",placeholder:"Write character's name",onChange:function(e){!function(e){_(e.target.value)}(e)}}))),r.a.createElement("main",null,(!N||""===N)&&r.a.createElement(g,{data:o}),F&&""!==N&&r.a.createElement(g,{data:F}),H&&N&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"errorImage",src:C.a,alt:"No found"}))))};var k=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(E.b)({opacity:a?1:0});function i(){document.documentElement.scrollTop>40?c(!1):c(!0)}return Object(n.useEffect)((function(){return i(),window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(E.a.div,{style:l},r.a.createElement(d,null)),r.a.createElement(_,null))},x=(a(105),a(114)),F=a(62);a(106);var A=function(e){var t=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"detailsCard"},r.a.createElement("section",{className:"detailsCard__image"},r.a.createElement("img",{src:t.image,alt:"character"})),r.a.createElement("section",{className:"detailsCard__info"},r.a.createElement("small",{id:"id"},t.id),r.a.createElement("h1",{id:"name"},t.name),r.a.createElement("p",{id:"status"},"Status: ",t.status),r.a.createElement("p",{id:"species"},"Species: ",t.species),r.a.createElement("p",{id:"type"},"Type: ",t.type),r.a.createElement("p",{id:"gender"},"Gender: ",t.gender))))};a(107),a(108);var T=function(){return r.a.createElement("div",{className:"lds-grid"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};var q=function(){return r.a.createElement("div",{className:"PageLoading"},r.a.createElement(T,null))};a(109);var H=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement("div",{className:"notFoundContainer"},r.a.createElement(i.b,{to:"/characters"},r.a.createElement("img",{className:"notFound-image",src:C.a,alt:"404 not found"})))))};function L(){var e=Object(b.a)(["\n {\n   character(id: ",") {\n     id\n     name\n     status \n     species\n     type\n     gender\n    image\n   }\n }\n"]);return L=function(){return e},e}var I=function(e){var t=e.id,a=Object(F.b)(L(),t);return r.a.createElement(x.a,{query:a},(function(e){var t=e.loading,a=e.error,c=e.data;if(t)return r.a.createElement(q,null);if(a)return r.a.createElement(H,null);var l=c.character;return r.a.createElement(n.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:"cardContainer"},r.a.createElement(A,{character:l}))))}))};var R=function(e){var t=e.location.id?e.location.id:e.location.pathname.split("/")[2];return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement(I,{id:t})))},M=a(86),P=a.n(M);a(110);var B=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement("div",{className:"schwiftyContainer"},r.a.createElement(i.b,{to:"/characters/",className:"schwiftyContainer__image"},r.a.createElement("img",{className:"schwifty-image",src:P.a,alt:"get schwifty"})))),r.a.createElement("footer",null,r.a.createElement("h4",{className:"footer"},"Cesar Martinez ")))};var D=function(){return r.a.createElement(i.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:B}),r.a.createElement(m.a,{exact:!0,path:"/characters/",component:k}),r.a.createElement(m.a,{exact:!0,path:"/characters/:characterId",component:R}),r.a.createElement(m.a,{component:H})))},J=(a(111),a(14)),U=a(61),z={characters:[],page:1};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CHARACTERS":return{characters:t.payload[0],page:t.payload[1]};default:return e}},W=new F.a({uri:"https://rickandmortyapi.com/graphql/"}),K=Object(U.b)(G);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S.a,{store:K},r.a.createElement(J.a,{client:W},r.a.createElement(D,null)))),document.getElementById("root"))},60:function(e,t,a){e.exports=a.p+"static/media/Buried.e0d8d411.jpeg"},84:function(e,t,a){e.exports=a.p+"static/media/HeroImage.c78ce9dd.png"},86:function(e,t,a){e.exports=a.p+"static/media/Schwifty.29c1a9c4.png"},88:function(e,t,a){e.exports=a(112)},93:function(e,t,a){},99:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.03ee825a.chunk.js.map