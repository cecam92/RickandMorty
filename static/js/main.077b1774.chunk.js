(this.webpackJsonprick=this.webpackJsonprick||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(45),l=a.n(c),i=a(28),o=a(12),m=a(33),s=(a(89),a(80)),u=a.n(s);var d=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"hero"},r.a.createElement(i.b,{to:"/characters"},r.a.createElement("img",{className:"hero__image",src:u.a,alt:"Hero Logo"}))))},E=a(38),p=a.n(E),f=a(51);a(95),a(96);var h=function(e){var t=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"characterCard"},r.a.createElement("section",{className:"characterCard__image"},r.a.createElement("img",{src:t.image,alt:"character"})),r.a.createElement("section",{className:"characterCard__info"},r.a.createElement("h2",{id:"name"},t.name),r.a.createElement("p",{id:"status"},"Status: ",t.status),r.a.createElement("p",{id:"origin"},"Origin: ",t.origin.name))))};var g=function(e){var t=e.data;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"listCharacters"},t.map((function(e){return r.a.createElement("li",{className:"characters",key:e.id},r.a.createElement(i.b,{to:{pathname:"/characters/".concat(e.id),id:e.id}},r.a.createElement(h,{character:e})))}))))},v=a(52),b=a(60);function y(){var e=Object(v.a)(['\n      {\n        characters(filter: { name: "','" }) {\n          results {\n            name\n            id\n            status\n            image\n            origin {\n              name\n            }\n          }\n        }\n      }\n    ']);return y=function(){return e},e}function j(){return(j=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("props in fetch ".concat(t)),a=new b.ApolloClient({uri:"https://rickandmortyapi.com/graphql/",cache:new b.InMemoryCache}),e.next=4,a.query({query:Object(b.gql)(y(),t)});case 4:return n=e.sent,r=n.data.characters.results,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){return j.apply(this,arguments)},w=a(57),N=a.n(w),C=a(39);var _=function(){var e=Object(C.c)((function(e){return e.characters})),t=Object(C.c)((function(e){return e.page})),a=Object(n.useState)(t),c=Object(m.a)(a,2),l=c[0],i=c[1];console.log("inicial Page ".concat(l));var o=Object(n.useState)(e),s=Object(m.a)(o,2),u=s[0],d=s[1],E=Object(C.b)(),h=Object(n.useState)(7689),v=Object(m.a)(h,2),b=v[0],y=v[1],j=Object(n.useState)(""),w=Object(m.a)(j,2),_=w[0],S=w[1],k=Object(n.useState)([]),x=Object(m.a)(k,2),A=x[0],F=x[1],T=Object(n.useState)(!1),P=Object(m.a)(T,2),q=P[0],H=P[1],L="https://rickandmortyapi.com/api/character/?page=".concat(l);function D(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&b>l&&(i(l+1),console.log("page get DAta ".concat(l)))}function I(){return(I=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_||void 0===_||""===_){e.next=14;break}return e.prev=1,e.next=4,O(_);case 4:(t=e.sent)&&(H(!1),F(t)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),H(!0),F([]);case 12:e.next=15;break;case 14:F([]);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e;return e=L,l<b&&(fetch(e).then((function(e){return e.json()})).then((function(e){y(e.info.pages),d((function(t){return t.concat(e.results)}))})),E({type:"UPDATE_PAGE",payload:l})),console.log("end fetch"),console.log("cahracters ".concat(u.length)),window.addEventListener("scroll",D),function(){E({type:"UPDATE_CHARACTERS",payload:u}),window.removeEventListener("scroll",D)}}),[l]),Object(n.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[_]),r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"sticky"},r.a.createElement("div",{className:"Search"},r.a.createElement("input",{className:"Search__input",placeholder:"Write character's name",onChange:function(e){!function(e){S(e.target.value)}(e)}}))),r.a.createElement("main",null,(!_||""===_)&&r.a.createElement(g,{data:u}),A&&""!==_&&r.a.createElement(g,{data:A}),q&&_&&r.a.createElement("img",{className:"errorImage",src:N.a,alt:"No found"})))};var S=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1];function l(){0!==document.documentElement.scrollTop?c(!1):c(!0)}return Object(n.useEffect)((function(){return l(),window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}}),[]),r.a.createElement(n.Fragment,null,a&&r.a.createElement(d,null),r.a.createElement(_,null))},k=(a(101),a(110)),x=a(59);a(102);var A=function(e){var t=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"detailsCard"},r.a.createElement("section",{className:"detailsCard__image"},r.a.createElement("img",{src:t.image,alt:"character"})),r.a.createElement("section",{className:"detailsCard__info"},r.a.createElement("small",{id:"id"},t.id),r.a.createElement("h1",{id:"name"},t.name),r.a.createElement("p",{id:"status"},"Status: ",t.status),r.a.createElement("p",{id:"species"},"Species: ",t.species),r.a.createElement("p",{id:"type"},"Type: ",t.type),r.a.createElement("p",{id:"gender"},"Gender: ",t.gender))))};a(103),a(104);var F=function(){return r.a.createElement("div",{className:"lds-grid"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};var T=function(){return r.a.createElement("div",{className:"PageLoading"},r.a.createElement(F,null))};a(105);var P=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement("div",{className:"notFoundContainer"},r.a.createElement(i.b,{to:"/characters"},r.a.createElement("img",{className:"notFound-image",src:N.a,alt:"404 not found"})))))};function q(){var e=Object(v.a)(["\n {\n   character(id: ",") {\n     id\n     name\n     status \n     species\n     type\n     gender\n    image\n   }\n }\n"]);return q=function(){return e},e}var H=function(e){var t=e.id,a=Object(x.b)(q(),t);return r.a.createElement(k.a,{query:a},(function(e){var t=e.loading,a=e.error,c=e.data;if(t)return r.a.createElement(T,null);if(a)return r.a.createElement(P,null);var l=c.character;return r.a.createElement(n.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:"cardContainer"},r.a.createElement(A,{character:l}))))}))};var L=function(e){var t=e.location.id?e.location.id:e.location.pathname.split("/")[2];return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement(H,{id:t})))},D=a(82),I=a.n(D);a(106);var R=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement("div",{className:"schwiftyContainer"},r.a.createElement(i.b,{to:"/characters",className:"schwiftyContainer__image"},r.a.createElement("img",{className:"schwifty-image",src:I.a,alt:"get schwifty"})))),r.a.createElement("footer",null,r.a.createElement("h2",{className:"footer"},"Culimbo")))};var U=function(){return r.a.createElement(i.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:R}),r.a.createElement(o.a,{exact:!0,path:"/characters",component:S}),r.a.createElement(o.a,{exact:!0,path:"/characters/:characterId",component:L}),r.a.createElement(o.a,{component:P})))},G=(a(107),a(13)),B=a(58),J={characters:[],page:1};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CHARACTERS":return{characters:t.payload,page:e.page};case"UPDATE_PAGE":return{characters:e.characters,page:t.payload};default:return e}},W=new x.a({uri:"https://rickandmortyapi.com/graphql/"}),z=Object(B.b)(M);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,{store:z},r.a.createElement(G.a,{client:W},r.a.createElement(U,null)))),document.getElementById("root"))},57:function(e,t,a){e.exports=a.p+"static/media/Buried.bc95a60c.jpeg"},80:function(e,t,a){e.exports=a.p+"static/media/HeroImage.42d6efdb.png"},82:function(e,t,a){e.exports=a.p+"static/media/Schwifty.1c56175c.png"},84:function(e,t,a){e.exports=a(108)},89:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.077b1774.chunk.js.map