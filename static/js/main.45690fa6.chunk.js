(this.webpackJsonprick=this.webpackJsonprick||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(45),l=a.n(c),i=a(28),m=a(12),u=a(33),o=(a(89),a(80)),s=a.n(o);var d=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"hero"},r.a.createElement(i.b,{to:"/characters/"},r.a.createElement("img",{className:"hero__image",src:s.a,alt:"Hero Logo"}))))},E=a(38),f=a.n(E),p=a(51);a(95),a(96);var h=function(e){var t=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"characterCard"},r.a.createElement("section",{className:"characterCard__image"},r.a.createElement("img",{src:t.image,alt:"character"})),r.a.createElement("section",{className:"characterCard__info"},r.a.createElement("h2",{id:"name"},t.name),r.a.createElement("p",{id:"status"},"Status: ",t.status),r.a.createElement("p",{id:"origin"},"Origin: ",t.origin.name))))};var v=function(e){var t=e.data;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"listCharacters"},t.map((function(e){return r.a.createElement("li",{className:"characters",key:e.id},r.a.createElement(i.b,{to:{pathname:"/characters/".concat(e.id),id:e.id}},r.a.createElement(h,{character:e})))}))))},g=a(52),b=a(60);function j(){var e=Object(g.a)(['\n      {\n        characters(filter: { name: "','" }) {\n          results {\n            name\n            id\n            status\n            image\n            origin {\n              name\n            }\n          }\n        }\n      }\n    ']);return j=function(){return e},e}function y(){return(y=Object(p.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("props in fetch ".concat(t)),a=new b.ApolloClient({uri:"https://rickandmortyapi.com/graphql/",cache:new b.InMemoryCache}),e.next=4,a.query({query:Object(b.gql)(j(),t)});case 4:return n=e.sent,r=n.data.characters.results,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){return y.apply(this,arguments)},w=a(57),N=a.n(w),C=a(39);var S=function(){var e=Object(C.c)((function(e){return e.characters})),t=Object(C.c)((function(e){return e.page})),a=Object(n.useState)(t),c=Object(u.a)(a,2),l=c[0],i=c[1],m=Object(n.useState)(e),o=Object(u.a)(m,2),s=o[0],d=o[1],E=Object(C.b)(),h=Object(n.useState)(7689),g=Object(u.a)(h,2),b=g[0],j=g[1],y=Object(n.useState)(""),w=Object(u.a)(y,2),S=w[0],_=w[1],k=Object(n.useState)([]),x=Object(u.a)(k,2),F=x[0],A=x[1],T=Object(n.useState)(!1),q=Object(u.a)(T,2),H=q[0],L=q[1],I="https://rickandmortyapi.com/api/character/?page=".concat(l);function R(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&b>l&&i(l+1)}function P(){return(P=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S||void 0===S||""===S){e.next=14;break}return e.prev=1,e.next=4,O(S);case 4:(t=e.sent)&&(L(!1),A(t)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),L(!0),A([]);case 12:e.next=15;break;case 14:A([]);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){return function(e){if(l<=b)try{fetch(e).then((function(e){return e.json()})).then((function(e){j(e.info.pages),d((function(t){return t.concat(e.results)}))})),E({type:"UPDATE_CHARACTERS",payload:[s,l]})}catch(H){return s}}(I),window.addEventListener("scroll",R),function(){window.removeEventListener("scroll",R)}}),[l]),Object(n.useEffect)((function(){!function(){P.apply(this,arguments)}()}),[S]),r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"sticky"},r.a.createElement("div",{className:"Search"},r.a.createElement("input",{className:"Search__input",placeholder:"Write character's name",onChange:function(e){!function(e){_(e.target.value)}(e)}}))),r.a.createElement("main",null,(!S||""===S)&&r.a.createElement(v,{data:s}),F&&""!==S&&r.a.createElement(v,{data:F}),H&&S&&r.a.createElement("img",{className:"errorImage",src:N.a,alt:"No found"})))};var _=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1];function l(){0!==document.documentElement.scrollTop?c(!1):c(!0)}return Object(n.useEffect)((function(){return l(),window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}}),[]),r.a.createElement(n.Fragment,null,a&&r.a.createElement(d,null),r.a.createElement(S,null))},k=(a(101),a(110)),x=a(59);a(102);var F=function(e){var t=e.character;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"detailsCard"},r.a.createElement("section",{className:"detailsCard__image"},r.a.createElement("img",{src:t.image,alt:"character"})),r.a.createElement("section",{className:"detailsCard__info"},r.a.createElement("small",{id:"id"},t.id),r.a.createElement("h1",{id:"name"},t.name),r.a.createElement("p",{id:"status"},"Status: ",t.status),r.a.createElement("p",{id:"species"},"Species: ",t.species),r.a.createElement("p",{id:"type"},"Type: ",t.type),r.a.createElement("p",{id:"gender"},"Gender: ",t.gender))))};a(103),a(104);var A=function(){return r.a.createElement("div",{className:"lds-grid"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};var T=function(){return r.a.createElement("div",{className:"PageLoading"},r.a.createElement(A,null))};a(105);var q=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement("div",{className:"notFoundContainer"},r.a.createElement(i.b,{to:"/characters"},r.a.createElement("img",{className:"notFound-image",src:N.a,alt:"404 not found"})))))};function H(){var e=Object(g.a)(["\n {\n   character(id: ",") {\n     id\n     name\n     status \n     species\n     type\n     gender\n    image\n   }\n }\n"]);return H=function(){return e},e}var L=function(e){var t=e.id,a=Object(x.b)(H(),t);return r.a.createElement(k.a,{query:a},(function(e){var t=e.loading,a=e.error,c=e.data;if(t)return r.a.createElement(T,null);if(a)return r.a.createElement(q,null);var l=c.character;return r.a.createElement(n.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:"cardContainer"},r.a.createElement(F,{character:l}))))}))};var I=function(e){var t=e.location.id?e.location.id:e.location.pathname.split("/")[2];return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement(L,{id:t})))},R=a(82),P=a.n(R);a(106);var B=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",null,r.a.createElement("div",{className:"schwiftyContainer"},r.a.createElement(i.b,{to:"/characters/",className:"schwiftyContainer__image"},r.a.createElement("img",{className:"schwifty-image",src:P.a,alt:"get schwifty"})))),r.a.createElement("footer",null,r.a.createElement("h2",{className:"footer"},"Culimbo")))};var D=function(){return r.a.createElement(i.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:B}),r.a.createElement(m.a,{exact:!0,path:"/characters/",component:_}),r.a.createElement(m.a,{exact:!0,path:"/characters/:characterId",component:I}),r.a.createElement(m.a,{component:q})))},J=(a(107),a(13)),M=a(58),U={characters:[],page:1};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CHARACTERS":return{characters:t.payload[0],page:t.payload[1]};default:return e}},W=new x.a({uri:"https://rickandmortyapi.com/graphql/"}),z=Object(M.b)(G);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,{store:z},r.a.createElement(J.a,{client:W},r.a.createElement(D,null)))),document.getElementById("root"))},57:function(e,t,a){e.exports=a.p+"static/media/Buried.bc95a60c.jpeg"},80:function(e,t,a){e.exports=a.p+"static/media/HeroImage.42d6efdb.png"},82:function(e,t,a){e.exports=a.p+"static/media/Schwifty.1c56175c.png"},84:function(e,t,a){e.exports=a(108)},89:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.45690fa6.chunk.js.map